package main;

import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Dimension;
import java.awt.FlowLayout;
import java.awt.Font;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.AbstractButton;
import javax.swing.BoxLayout;
import javax.swing.JButton;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JPasswordField;
import javax.swing.border.LineBorder;

public class AdminLoginPage extends Page implements ActionListener
{
	JPanel adminLoginPage;
	JPasswordField p1;
	private static final String PASSWORD = "Lagomorpha";
	
	public AdminLoginPage(GUIMain mainComponent, DatabaseConnecter dc)
	{
		super(mainComponent, dc);
		adminLoginPage = new JPanel();
		adminLoginPage.setLayout(new BorderLayout(20, 20));
		adminLoginPage.setPreferredSize(new Dimension(800,800));
	}

	@Override
	public void createPage()
	{
		JPanel topLeft = new JPanel();
		topLeft.setLayout(new FlowLayout(FlowLayout.LEFT, 20, 20));
		
    	JButton b1 = new JButton("Back");
        b1.setVerticalTextPosition(AbstractButton.BOTTOM);
        b1.setHorizontalTextPosition(AbstractButton.CENTER);
        b1.setActionCommand("gotoStartPage");
        b1.addActionListener(mainComponent);

        topLeft.add(b1);
        adminLoginPage.add(topLeft, BorderLayout.NORTH);


        JPanel centre = new JPanel();
        centre.setLayout(new BoxLayout(centre, BoxLayout.Y_AXIS));
		centre.setBorder(new LineBorder(Color.BLACK));
		
        JLabel l1 = new JLabel();
        l1.setText("Password:");
        l1.setFont(new Font(l1.getFont().getFontName(), 0, 16));
        l1.setPreferredSize(new Dimension(120,60));
        
        centre.add(l1);
        
        p1 = new JPasswordField(10);
        p1.setPreferredSize(new Dimension(120,60));

        p1.setActionCommand("login");
        p1.addActionListener(mainComponent);
        centre.add(p1);
        
        JButton b2 = new JButton("Login");
        b2.setVerticalTextPosition(AbstractButton.BOTTOM);
        b2.setHorizontalTextPosition(AbstractButton.CENTER);
        b2.setActionCommand("tryLogin");
        b2.addActionListener(this);

        centre.add(b2);
        
        adminLoginPage.add(centre, BorderLayout.CENTER);
		mainComponent.add(adminLoginPage);
	}

	@Override
	public void cleanPage()
	{
		mainComponent.remove(adminLoginPage);
	}

	@Override
	public void actionPerformed(ActionEvent evt)
	{
		if ("tryLogin".equals(evt.getActionCommand()))
    	{
			if(PASSWORD.equals(new String(p1.getPassword())))
			{
				p1.postActionEvent();
				
			}
    	}
	}

}
